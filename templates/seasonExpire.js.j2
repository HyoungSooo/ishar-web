{%- if current_season is defined and current_season.expiration_date is defined -%}
// Set the date of the season expiration, that we are counting down to
var expiration  = new Date({{ current_season.expiration_date }}*1000).getTime();

// Update the countdown every second
var countdown   = setInterval(function() {

    // Get current date and time
    var now         = new Date().getTime();

    // Find the distance between now and the end of the season
    var distance    = expiration - now;

    // Time calculations for days, hours, and minutes
    var days        = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours       = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes     = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

    // Display the result in the element with id="season-countdown"
    document.getElementById("season-countdown").innerHTML   = days + 'd ' + hours + 'h ' + minutes + 'm';

    // If the count down is finished, write some text
    if (distance < 0) {
        clearInterval(countdown);
        document.getElementById("season-countdown").innerHTML   = 'EXPIRED!';
    }
}, 1000);
{%- endif -%}
