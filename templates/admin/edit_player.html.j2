{%- set page = 'admin' -%}
{% extends "layout.html.j2" %}
{% block meta_title %}Edit Player: {{ edit_player.name | title | safe }} / Administration Portal{% endblock meta_title %}
{% block meta_description %}Administration portal to edit a player character{% endblock %}
{% block meta_url %}{{ url_for('admin_edit_player', edit_player=edit_player.id, _external=True) }}{% endblock meta_url %}">
{% block title %}Edit Player: {{ edit_player.name | title | safe }} / Administration Portal{% endblock %}
{% block header %}Edit Player: <span class="{{ edit_player.player_css }}">{{ edit_player.name }}</span>{% endblock %}
{%- macro render_field(field) %}
                    <tr>
                        <td class="admin-{{ field.name | safe }}">
                            {{ field.label | safe }}
                        </td>
                        <td class="admin-{{ field.name | safe }}">
                            {{ field(**kwargs) | safe }}
    {%- if field.errors %}
                            <ul class="flash-error">
        {%- for error in field.errors %}
                                <li>
                                    {{ error }}
                                </li>
        {%- endfor %}
                            </ul>
    {%- endif %}
                        </td>
                    </tr>
{%- endmacro %}
{%- block content %}
    {%- if edit_player is defined and edit_player_form is defined %}
                <form autocomplete="off" method="post" action="{{ url_for('admin_edit_player', edit_player_id=edit_player.id) }}" id="player-edit-form">
                    <table>
                        <tr>
                            <td>
                                Account
                            </td>
                            <td>
                                {{ edit_player.account.account_name | title | safe }}
                                (ID: {{ edit_player.account_id }})
                            </td>
                        </tr>
                        {{ render_field(edit_player_form.name, value=edit_player.name, autocomplete='off') }}
                        {{ render_field(edit_player_form.title, value=edit_player.title, autocomplete='off') }}
                        {{ render_field(edit_player_form.money, value=edit_player.money, autocomplete='off') }}
                        {{ render_field(edit_player_form.align, value=edit_player.align, autocomplete='off') }}
                        {{ render_field(edit_player_form.karma, value=edit_player.karma, autocomplete='off') }}
                        {{ render_field(edit_player_form.sex, value=edit_player.sex, autocomplete='off') }}
                        {{ render_field(edit_player_form.renown, value=edit_player.renown, autocomplete='off') }}
                        {{ render_field(edit_player_form.is_deleted, value=edit_player.is_deleted, autocomplete='off') }}
                        {{ edit_player_form.csrf_token }}
                        {{ render_field(edit_player_form.submit) }}
                    </table>
                </form>
    {%- endif %}
{%- endblock %}
