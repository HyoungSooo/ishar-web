{% extends "layout.html.j2" %}
{% block title %}Change Password{% endblock %}
{% block header %}Change Password{% endblock %}
{%- macro render_field(field) %}
                    <p class="change-password">
                        {{ field.label | safe }}
                        {{ field(**kwargs) | safe }}
                    </p>
    {%- if field.errors %}
                <ul class="field-errors">
        {%- for error in field.errors %}
                    <li>
                        {{ error }}
                    </li>
        {%- endfor %}
                </ul>
    {%- endif %}
{%- endmacro %}
{%- block content %}
    {%- if change_password_form is defined %}
                <form method="post" action="{{ url_for('change_password') }}" id="change-password-form">
                    {{ render_field(change_password_form.current_password) }}
                    {{ render_field(change_password_form.new_password) }}
                    {{ render_field(change_password_form.confirm_new_password) }}
                    {{ change_password_form.csrf_token }}
                    {{ change_password_form.submit }}
                    <input type="reset">
                </form>
    {%- else %}
                Missing form!
    {%- endif %}
                <p>
                    <a href="{{ url_for('portal') }}">
                        <img src="{{ url_for('static', filename='back.gif') }}" alt="Back to Player Portal">
                    </a>
                </p>
{%- endblock %}
